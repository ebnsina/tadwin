import{f as O,a as S}from"../chunks/BexDkSge.js";import{p as L,t as q,g as r,a as Y,s,d as o,b as n,c as a,r as t,n as z}from"../chunks/D4NGhvwl.js";import{e as B,s as N}from"../chunks/Cch035HB.js";import{i as F}from"../chunks/CXTF55Ck.js";import{r as h}from"../chunks/CgbIzcwP.js";import{b as w,u as G}from"../chunks/Cahza2TM.js";import{g as H}from"../chunks/SFOIyY7k.js";var I=O('<div class="bg-red-50 text-red-600 px-4 py-3 rounded-lg mb-6"> </div>'),K=O('<div class="min-h-screen flex items-center justify-center bg-gray-50 px-4"><div class="max-w-md w-full"><div class="bg-white rounded-lg shadow-sm p-8"><h1 class="text-3xl font-bold text-gray-900 text-center mb-2">Create Account</h1> <p class="text-gray-600 text-center mb-8">Start taking markdown notes</p> <!> <form><div class="mb-4"><label for="name" class="block text-sm font-medium text-gray-700 mb-2">Name (optional)</label> <input id="name" type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="Your name"/></div> <div class="mb-4"><label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email</label> <input id="email" type="email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="you@example.com"/></div> <div class="mb-6"><label for="password" class="block text-sm font-medium text-gray-700 mb-2">Password</label> <input id="password" type="password" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="••••••••"/></div> <button type="submit" class="w-full bg-primary text-white py-2 px-4 rounded-lg font-medium hover:bg-primary-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors"> </button></form> <p class="mt-6 text-center text-gray-600">Already have an account? <a href="/login" class="text-primary hover:text-primary-hover font-medium">Log in</a></p></div></div></div>');function $(R,T){L(T,!0);let p=n(""),c=n(""),u=n(""),l=n(""),d=n(!1);async function D(e){e.preventDefault(),o(l,""),o(d,!0);try{const i=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r(p),password:r(c),name:r(u)})}),m=await i.json();i.ok?(G.set(m.user),H("/app")):o(l,m.error||"Registration failed",!0)}catch{o(l,"An error occurred. Please try again.")}finally{o(d,!1)}}var f=K(),_=a(f),k=a(_),A=s(a(k),4);{var E=e=>{var i=I(),m=a(i,!0);t(i),q(()=>N(m,r(l))),S(e,i)};F(A,e=>{r(l)&&e(E)})}var v=s(A,2),b=a(v),C=s(a(b),2);h(C),t(b);var g=s(b,2),j=s(a(g),2);h(j),t(g);var y=s(g,2),P=s(a(y),2);h(P),t(y);var x=s(y,2),J=a(x,!0);t(x),t(v),z(2),t(k),t(_),t(f),q(()=>{x.disabled=r(d),N(J,r(d)?"Creating account...":"Create Account")}),B("submit",v,D),w(C,()=>r(u),e=>o(u,e)),w(j,()=>r(p),e=>o(p,e)),w(P,()=>r(c),e=>o(c,e)),S(R,f),Y()}export{$ as component};
