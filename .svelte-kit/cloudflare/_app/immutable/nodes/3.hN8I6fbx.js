import{f as A,a as D}from"../chunks/BexDkSge.js";import{p as N,t as L,g as r,a as R,s as i,c as a,b as n,r as t,n as M,d as s}from"../chunks/D4NGhvwl.js";import{e as W,s as O}from"../chunks/Cch035HB.js";import{i as z}from"../chunks/CXTF55Ck.js";import{r as h}from"../chunks/CgbIzcwP.js";import{b as T,a as F,u as G}from"../chunks/Cahza2TM.js";import{g as H}from"../chunks/SFOIyY7k.js";var K=A('<div class="bg-red-50 text-red-600 px-4 py-3 rounded-lg mb-6"> </div>'),Q=A(`<div class="min-h-screen flex items-center justify-center bg-gray-50 px-4"><div class="max-w-md w-full"><div class="bg-white rounded-lg shadow-sm p-8"><h1 class="text-3xl font-bold text-gray-900 text-center mb-2">Welcome Back</h1> <p class="text-gray-600 text-center mb-8">Sign in to your account</p> <!> <form><div class="mb-4"><label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email</label> <input id="email" type="email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="you@example.com"/></div> <div class="mb-4"><label for="password" class="block text-sm font-medium text-gray-700 mb-2">Password</label> <input id="password" type="password" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="••••••••"/></div> <div class="mb-6"><label class="flex items-center"><input type="checkbox" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary"/> <span class="ml-2 text-sm text-gray-700">Remember me</span></label></div> <button type="submit" class="w-full bg-primary text-white py-2 px-4 rounded-lg font-medium hover:bg-primary-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors"> </button></form> <p class="mt-6 text-center text-gray-600">Don't have an account? <a href="/register" class="text-primary hover:text-primary-hover font-medium">Sign up</a></p></div></div></div>`);function re(B,C){N(C,!0);let p=n(""),c=n(""),u=n(!1),l=n(""),d=n(!1);async function E(e){e.preventDefault(),s(l,""),s(d,!0);try{const o=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r(p),password:r(c),rememberMe:r(u)})}),m=await o.json();o.ok?(G.set(m.user),H("/app")):s(l,m.error||"Login failed",!0)}catch{s(l,"An error occurred. Please try again.")}finally{s(d,!1)}}var f=Q(),_=a(f),w=a(_),k=i(a(w),4);{var I=e=>{var o=K(),m=a(o,!0);t(o),L(()=>O(m,r(l))),D(e,o)};z(k,e=>{r(l)&&e(I)})}var b=i(k,2),v=a(b),S=i(a(v),2);h(S),t(v);var g=i(v,2),j=i(a(g),2);h(j),t(g);var y=i(g,2),P=a(y),q=a(P);h(q),M(2),t(P),t(y);var x=i(y,2),J=a(x,!0);t(x),t(b),M(2),t(w),t(_),t(f),L(()=>{x.disabled=r(d),O(J,r(d)?"Signing in...":"Sign In")}),W("submit",b,E),T(S,()=>r(p),e=>s(p,e)),T(j,()=>r(c),e=>s(c,e)),F(q,()=>r(u),e=>s(u,e)),D(B,f),R()}export{re as component};
